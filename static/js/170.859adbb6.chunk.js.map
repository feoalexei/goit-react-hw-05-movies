{"version":3,"file":"static/js/170.859adbb6.chunk.js","mappings":"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","sources":["Box.js","components/MovieDetails/MovieDetails.styled.jsx","components/MovieDetails/MovieDetails.jsx","components/StarRating/StarRating.jsx","services/movies-api.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position\n);\n","import styled from 'styled-components';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const Figure = styled.div`\n  min-width: 30%;\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  border-radius: ${p => p.theme.radii.normal};\n`;\n\nexport const Description = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-left: ${p => p.theme.space[5]}px;\n\n  h3 {\n    margin-bottom: ${p => p.theme.space[3]}px;\n  }\n`;\n\nexport const ExtraInfo = styled.div`\n  display: flex;\n  gap: 15px;\n  color: ${p => p.theme.colors.text};\n  margin-bottom: ${p => p.theme.space[4]}px;\n\n  li:hover {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const InfoLink = styled(NavLink)`\n  display: inline-flex;\n  align-items: flex-end;\n  gap: 5px;\n  color: ${p => p.theme.colors.text};\n  border-radius: ${p => p.theme.radii.normal};\n  transition: all 0.4s;\n  padding: 10px 15px;\n  border: 1px solid grey;\n  margin-bottom: ${p => p.theme.space[4]}px;\n\n  &.active {\n    color: ${p => p.theme.colors.accent};\n    border-color: ${p => p.theme.colors.accent};\n  }\n\n  &:hover {\n    color: ${p => p.theme.colors.accent};\n    border-color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const BackLink = styled(Link)`\n  display: inline-flex;\n  align-items: flex-end;\n  gap: 5px;\n  color: ${p => p.theme.colors.text};\n  border-radius: ${p => p.theme.radii.normal};\n  transition: all 0.4s;\n  padding: 10px 15px;\n  border: 1px solid grey;\n  margin-bottom: ${p => p.theme.space[4]}px;\n\n  &:hover {\n    color: ${p => p.theme.colors.accent};\n    border-color: ${p => p.theme.colors.accent};\n  }\n`;\n","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { BsArrowLeft } from 'react-icons/bs';\nimport { fetchMovieById } from 'services/movies-api';\nimport { Box } from 'Box';\nimport {\n  Figure,\n  Image,\n  Description,\n  ExtraInfo,\n  InfoLink,\n  BackLink,\n} from './MovieDetails.styled';\nimport StarRating from 'components/StarRating';\nimport Loader from '../Loader/Loader';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    fetchMovieById(movieId)\n      .then(movie => setMovie(movie))\n      .catch(error => console.log(error));\n  }, [movieId]);\n\n  const handleClickToScroll = () => {\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\n    console.log(scrollRef);\n  };\n\n  // const scrollDown = () => {\n  //   window.scrollTo({\n  //     top: scrollRef.current.offsetTop,\n  //     behavior: 'smooth',\n  //   });\n  // };\n\n  if (!movie) return;\n\n  const {\n    poster_path: poster,\n    title,\n    name,\n    overview,\n    genres,\n    vote_average: rate,\n    release_date: date,\n  } = movie;\n\n  return (\n    <>\n      <BackLink to={backLinkHref}>\n        <BsArrowLeft />\n        Go back\n      </BackLink>\n      <Box as=\"div\" display=\"flex\" mb={5}>\n        <Figure>\n          <Image\n            src={`https://image.tmdb.org/t/p/w300${poster}`}\n            alt={title || name}\n          />\n        </Figure>\n        <Description>\n          <h2>\n            {title || name} ({date.slice(0, 4)})\n          </h2>\n          {rate && <StarRating rate={rate} />}\n          {rate && <p>User score: {Math.round(rate * 10)}%</p>}\n          {overview && (\n            <div>\n              <h3>Overview:</h3>\n              <p>{overview}</p>\n            </div>\n          )}\n          {genres?.length > 0 && (\n            <div>\n              <h3>Genres:</h3>\n              <p>{genres.map(item => item.name).join(' / ')}</p>\n            </div>\n          )}\n          <ExtraInfo>\n            <InfoLink\n              ref={scrollRef}\n              onClick={handleClickToScroll}\n              to=\"cast\"\n              state={{ from: location.state?.from ?? '/movies' }}\n            >\n              Cast\n            </InfoLink>\n            <InfoLink\n              ref={scrollRef}\n              onClick={handleClickToScroll}\n              to=\"reviews\"\n              state={{ from: location.state?.from ?? '/movies' }}\n            >\n              Reviews\n            </InfoLink>\n          </ExtraInfo>\n        </Description>\n      </Box>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import PropTypes from 'prop-types';\nimport { Box } from 'Box';\nimport { FaStar, FaRegStar } from 'react-icons/fa';\n\n// Generates movie rating in a form of stars according to the\nconst StarRating = ({ rate }) => {\n  const generateStars = rate => {\n    return Array(Math.floor(rate)).fill('*');\n  };\n\n  const generateBlankStars = rate => {\n    return Array(Math.ceil(10 - rate)).fill('-');\n  };\n\n  return (\n    <Box as=\"div\" display=\"flex\">\n      <Box as=\"ul\" display=\"flex\">\n        {generateStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <Box as=\"ul\" display=\"flex\" mr={3}>\n        {generateBlankStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaRegStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <p>({rate.toFixed(1)}/10)</p>\n    </Box>\n  );\n};\nexport default StarRating;\n\nStarRating.propTypes = {\n  rate: PropTypes.number.isRequired,\n};\n","const BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = 'bb66d39a29feb698f032f2613a49cacc';\n\nexport async function fetchTrending() {\n  const response = await fetch(\n    `${BASE_URL}/3/trending/all/day?api_key=${API_KEY}`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieById(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieByName(query) {\n  const response = await fetch(\n    `${BASE_URL}/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return await response.json();\n}\n"],"names":["Box","styled","color","space","layout","flexbox","grid","background","border","position","Figure","Image","p","theme","radii","normal","Description","ExtraInfo","colors","text","accent","InfoLink","NavLink","BackLink","Link","movieId","useParams","useState","movie","setMovie","location","useLocation","backLinkHref","state","from","scrollRef","useRef","useEffect","fetchMovieById","then","catch","error","console","log","handleClickToScroll","current","scrollIntoView","behavior","poster","poster_path","title","name","overview","genres","rate","vote_average","date","release_date","to","as","display","mb","src","alt","slice","StarRating","Math","round","length","map","item","join","ref","onClick","Suspense","fallback","Loader","Array","floor","fill","generateStars","_","i","style","fontSize","mr","ceil","generateBlankStars","toFixed","BASE_URL","API_KEY","fetchTrending","fetch","response","json","fetchMovieCredits","fetchMovieReviews","fetchMovieByName","query"],"sourceRoot":""}