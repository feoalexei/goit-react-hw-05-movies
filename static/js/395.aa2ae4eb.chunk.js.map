{"version":3,"file":"static/js/395.aa2ae4eb.chunk.js","mappings":"8LAYaA,GAAMC,EAAAA,EAAAA,IAAO,MAAPA,CACjBC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,G,4HClBWC,EAAQT,EAAAA,GAAAA,IAAH,8GAGC,SAAAU,GAAC,OAAIA,EAAEC,MAAMC,MAAMC,MAAlB,IACD,SAAAH,GAAC,OAAIA,EAAEC,MAAMT,MAAM,EAAlB,IAGPY,EAAQd,EAAAA,GAAAA,GAAH,iDACC,SAAAU,GAAC,OAAIA,EAAEC,MAAMT,MAAM,EAAlB,IAGPa,EAAOf,EAAAA,GAAAA,KAAH,oEAEE,SAAAU,GAAC,OAAIA,EAAEC,MAAMT,MAAM,EAAlB,I,kBC+BpB,EAvCmB,SAAC,GAAgB,IAAdc,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,+BACE,SAACnB,EAAA,EAAD,CACEoB,GAAG,KACHC,QAAQ,OACRC,QAAS,EACTC,oBAAoB,wCACpBC,GAAI,EALN,SAOGP,EAAOQ,KAAI,SAAAC,GAAK,OACf,yBACE,4BACE,UAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMZ,GAAhD,WACE,SAACR,EAAD,CACEqB,IACEL,EAAMM,YAAN,0CACuCN,EAAMM,aACzCC,EAENC,IAAKR,EAAMS,OAAST,EAAMU,QAG5B,SAACrB,EAAD,UAAQW,EAAMS,OAAST,EAAMU,OAC5BV,EAAMW,eACL,UAACrB,EAAD,sBAAQU,QAAR,IAAQA,OAAR,EAAQA,EAAOW,aAAaC,MAAM,EAAG,GAArC,UAEI,KACR,SAACC,EAAA,EAAD,CAAYC,KAAMd,EAAMe,mBAjBnBf,EAAME,GADA,OAyBxB,C,wFCAD,EAvCmB,SAAC,GAAc,IAAZY,EAAW,EAAXA,KASpB,OACE,UAACxC,EAAA,EAAD,CAAKoB,GAAG,MAAMC,QAAQ,OAAtB,WACE,SAACrB,EAAA,EAAD,CAAKoB,GAAG,KAAKC,QAAQ,OAArB,SAVkB,SAAAmB,GACpB,OAAOE,MAAMC,KAAKC,MAAMJ,IAAOK,KAAK,IACrC,CASMC,CAAcN,GAAMf,KAAI,SAACsB,EAAGC,GAAJ,OACvB,yBACE,SAAC,MAAD,CACEC,MAAO,CACLJ,KAAM,gBACNK,SAAU,WAJPF,EADc,OAW3B,SAAChD,EAAA,EAAD,CAAKoB,GAAG,KAAKC,QAAQ,OAAO8B,GAAI,EAAhC,SAlBuB,SAAAX,GACzB,OAAOE,MAAMC,KAAKS,KAAK,GAAKZ,IAAOK,KAAK,IACzC,CAiBMQ,CAAmBb,GAAMf,KAAI,SAACsB,EAAGC,GAAJ,OAC5B,yBACE,SAAC,MAAD,CACEC,MAAO,CACLJ,KAAM,gBACNK,SAAU,WAJPF,EADmB,OAWhC,6BAAKR,EAAKc,QAAQ,GAAlB,YAGL,C,mJCzCYC,EAAatD,EAAAA,GAAAA,KAAH,8GAMVuD,EAAcvD,EAAAA,GAAAA,MAAH,6GAGF,SAAAU,GAAC,OAAIA,EAAEC,MAAM6C,OAAOC,MAAnB,IACL,SAAA/C,GAAC,OAAIA,EAAEC,MAAMT,MAAM,EAAlB,IAGNwD,EAAY1D,EAAAA,GAAAA,OAAH,wRAMP,SAAAU,GAAC,OAAIA,EAAEC,MAAMgD,UAAUC,CAAtB,IACL,SAAAlD,GAAC,OAAIA,EAAEC,MAAM6C,OAAOK,KAAnB,IACU,SAAAnD,GAAC,OAAIA,EAAEC,MAAM6C,OAAOC,MAAnB,I,SCavB,EA/BkB,SAAC,GAAkB,IAAhBK,EAAe,EAAfA,SACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAeA,OACE,UAACX,EAAD,CAAYY,SAVO,SAAAC,GACnBA,EAAEC,iBACFN,EAASE,EAAMK,QACD,KAAVL,GACFM,MAAM,8CAERL,EAAS,GACV,EAGC,WACE,SAACV,EAAD,CACEgB,KAAK,OACLC,SAjBe,SAAC,GAA2B,IAAfC,EAAc,EAAxBC,OAAUD,MAChCR,EAASQ,EACV,EAgBKE,YAAY,eACZF,MAAOT,KAET,SAACN,EAAD,WACE,SAAC,MAAD,QAIP,E,UCCD,EA7Be,WAAO,IAAD,EACnB,GAA4BK,EAAAA,EAAAA,UAAS,IAArC,eAAO/C,EAAP,KAAe4D,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACM5C,EAAI,UAAG2C,EAAaE,IAAI,eAApB,QAA+B,IAEzCC,EAAAA,EAAAA,YAAU,WACK,KAAT9C,IACF+C,EAAAA,EAAAA,IAAiB/C,GACdgD,MAAK,SAAAC,GAAI,OAAIR,EAAUQ,EAAKC,QAAnB,IACTC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GAEjB,GAAE,CAACpD,IAOJ,OACE,6BACE,SAAC,EAAD,CAAW2B,SAPM,SAAAE,GACdA,GACLe,EAAgB,CAAE5C,KAAM6B,GACzB,IAKsB,IAAlBhD,EAAO0E,QAAyB,KAATvD,GACtB,sEAEA,SAACwD,EAAA,EAAD,CAAY3E,OAAQA,MAI3B,C,yLC5BK4E,EAAW,6BACXC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,MAAM,GAAD,OACvBH,EADuB,uCACgBC,IAFvC,cACCG,EADD,gBAIQA,EAASC,OAJjB,0GAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8BC,GAA9B,uFACkBJ,MAAM,GAAD,OACvBH,EADuB,oBACHO,EADG,oBACgBN,EADhB,oBADvB,cACCG,EADD,gBAIQA,EAASC,OAJjB,0GAOA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,uFACkBJ,MAAM,GAAD,OACvBH,EADuB,oBACHO,EADG,4BACwBN,EADxB,oBADvB,cACCG,EADD,gBAIQA,EAASC,OAJjB,0GAOA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCF,GAAjC,uFACkBJ,MAAM,GAAD,OACvBH,EADuB,oBACHO,EADG,4BACwBN,EADxB,2BADvB,cACCG,EADD,gBAIQA,EAASC,OAJjB,0GAOA,SAAef,EAAtB,+CAAO,OAAP,oBAAO,WAAgClB,GAAhC,uFACkB+B,MAAM,GAAD,OACvBH,EADuB,mCACYC,EADZ,kBAC6B7B,IAFpD,cACCgC,EADD,gBAIQA,EAASC,OAJjB,0G","sources":["Box.js","components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.jsx","components/StarRating/StarRating.jsx","components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","pages/Movies.jsx","services/movies-api.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position\n);\n","import styled from 'styled-components';\n\nexport const Image = styled.img`\n  object-fit: cover;\n  width: 100%;\n  border-radius: ${p => p.theme.radii.normal};\n  margin-bottom: ${p => p.theme.space[3]}px;\n`;\n\nexport const Title = styled.h3`\n  margin-bottom: ${p => p.theme.space[1]}px;\n`;\n\nexport const Year = styled.span`\n  display: block;\n  margin-bottom: ${p => p.theme.space[3]}px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { Box } from 'Box';\nimport PropTypes from 'prop-types';\nimport StarRating from 'components/StarRating';\nimport { Image, Title, Year } from './MoviesList.styled';\nimport noPoster from '../../images/no_poster.jpg';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <Box\n        as=\"ul\"\n        display=\"grid\"\n        gridGap={5}\n        gridTemplateColumns=\"repeat(auto-fit, minmax(200px, auto))\"\n        mt={5}\n      >\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <div>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                <Image\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w300/${movie.poster_path}`\n                      : noPoster\n                  }\n                  alt={movie.title || movie.name}\n                />\n\n                <Title>{movie.title || movie.name}</Title>\n                {movie.release_date && (\n                  <Year>({movie?.release_date.slice(0, 4)})</Year>\n                )}\n              </Link>{' '}\n              <StarRating rate={movie.vote_average} />\n            </div>\n          </li>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.array,\n};\n","import PropTypes from 'prop-types';\nimport { Box } from 'Box';\nimport { FaStar, FaRegStar } from 'react-icons/fa';\n\n// Generates movie rating in a form of stars according to the\nconst StarRating = ({ rate }) => {\n  const generateStars = rate => {\n    return Array(Math.floor(rate)).fill('*');\n  };\n\n  const generateBlankStars = rate => {\n    return Array(Math.ceil(10 - rate)).fill('-');\n  };\n\n  return (\n    <Box as=\"div\" display=\"flex\">\n      <Box as=\"ul\" display=\"flex\">\n        {generateStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <Box as=\"ul\" display=\"flex\" mr={3}>\n        {generateBlankStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaRegStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <p>({rate.toFixed(1)}/10)</p>\n    </Box>\n  );\n};\nexport default StarRating;\n\nStarRating.propTypes = {\n  rate: PropTypes.number.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  align-content: stretch;\n  height: 40px;\n`;\nexport const SearchInput = styled.input`\n  height: 100%;\n  outline: none;\n  border: 1px solid ${p => p.theme.colors.accent};\n  padding-left: ${p => p.theme.space[3]}px;\n`;\n\nexport const SearchBtn = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  font-size: ${p => p.theme.fontSizes.l};\n  color: ${p => p.theme.colors.white};\n  background-color: ${p => p.theme.colors.accent};\n  border: none;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n`;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport { SearchForm, SearchInput, SearchBtn } from './SearchBox.styled';\n\nconst SearchBox = ({ onSearch }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = ({ target: { value } }) => {\n    setQuery(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSearch(query.trim());\n    if (query === '') {\n      alert('you should enter something to find a movie');\n    }\n    setQuery('');\n  };\n\n  return (\n    <SearchForm onSubmit={handleSubmit}>\n      <SearchInput\n        type=\"text\"\n        onChange={handleChange}\n        placeholder=\"Search movie\"\n        value={query}\n      />\n      <SearchBtn>\n        <FaSearch />\n      </SearchBtn>\n    </SearchForm>\n  );\n};\n\nexport default SearchBox;\n\nSearchBox.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByName } from 'services/movies-api';\nimport SearchBox from 'components/SearchBox';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('name') ?? '';\n\n  useEffect(() => {\n    if (name !== '') {\n      fetchMovieByName(name)\n        .then(data => setMovies(data.results))\n        .catch(error => console.log(error));\n    }\n  }, [name]);\n\n  const handleSubmit = query => {\n    if (!query) return;\n    setSearchParams({ name: query });\n  };\n\n  return (\n    <main>\n      <SearchBox onSearch={handleSubmit} />\n      {movies.length === 0 && name !== '' ? (\n        <p>Sorry, there are no results on your query</p>\n      ) : (\n        <MoviesList movies={movies} />\n      )}\n    </main>\n  );\n};\nexport default Movies;\n","// import axios from 'axios';\n\n// export const movieService = axios.create({\n//   baseURL: 'https://api.themoviedb.org',\n// });\n\nconst BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = 'bb66d39a29feb698f032f2613a49cacc';\n\nexport async function fetchTrending() {\n  const response = await fetch(\n    `${BASE_URL}/3/trending/all/day?api_key=${API_KEY}`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieById(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return await response.json();\n}\n\nexport async function fetchMovieByName(query) {\n  const response = await fetch(\n    `${BASE_URL}/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return await response.json();\n}\n"],"names":["Box","styled","color","space","layout","flexbox","grid","background","border","position","Image","p","theme","radii","normal","Title","Year","movies","location","useLocation","as","display","gridGap","gridTemplateColumns","mt","map","movie","to","id","state","from","src","poster_path","noPoster","alt","title","name","release_date","slice","StarRating","rate","vote_average","Array","Math","floor","fill","generateStars","_","i","style","fontSize","mr","ceil","generateBlankStars","toFixed","SearchForm","SearchInput","colors","accent","SearchBtn","fontSizes","l","white","onSearch","useState","query","setQuery","onSubmit","e","preventDefault","trim","alert","type","onChange","value","target","placeholder","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovieByName","then","data","results","catch","error","console","log","length","MoviesList","BASE_URL","API_KEY","fetchTrending","fetch","response","json","fetchMovieById","movieId","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}