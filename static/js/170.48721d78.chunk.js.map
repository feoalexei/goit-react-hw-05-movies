{"version":3,"file":"static/js/170.48721d78.chunk.js","mappings":"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","sources":["Box.js","components/MovieDetails/MovieDetails.styled.jsx","components/MovieDetails/MovieDetails.jsx","components/StarRating/StarRating.jsx","components/shared/Button/Button.styled.jsx","components/shared/Button/Button.js","services/movies-api.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position\n);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Figure = styled.div`\n  min-width: 30%;\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  border-radius: ${p => p.theme.radii.normal};\n`;\n\nexport const Description = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-left: ${p => p.theme.space[5]}px;\n\n  h3 {\n    margin-bottom: ${p => p.theme.space[3]}px;\n  }\n`;\n\nexport const ExtraInfo = styled.div`\n  display: flex;\n  gap: 15px;\n  color: ${p => p.theme.colors.text};\n  margin-bottom: ${p => p.theme.space[4]}px;\n\n  li:hover {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const BackLink = styled(Link)`\n  display: block;\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\n","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Outlet, useLocation, NavLink } from 'react-router-dom';\nimport { BsArrowLeft } from 'react-icons/bs';\nimport { fetchMovieById } from 'services/movies-api';\nimport { Box } from 'Box';\nimport {\n  Figure,\n  Image,\n  Description,\n  ExtraInfo,\n  BackLink,\n} from './MovieDetails.styled';\nimport StarRating from 'components/StarRating';\nimport Loader from '../Loader/Loader';\nimport Button from 'components/shared/Button';\nimport noPoster from '../../images/no_poster.jpg';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    const getMovieById = async () => {\n      try {\n        const data = await fetchMovieById(movieId);\n        setMovie(data);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    };\n    getMovieById(movieId);\n  }, [movieId]);\n\n  const handleClickToScroll = () => {\n    scrollRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  if (!movie) return;\n\n  const {\n    poster_path: poster,\n    title,\n    name,\n    overview,\n    genres,\n    vote_average: rate,\n    release_date: date,\n  } = movie;\n\n  return (\n    <>\n      <BackLink to={backLinkHref}>\n        <Button>\n          <BsArrowLeft />\n          Go Back\n        </Button>\n      </BackLink>\n      <Box as=\"div\" display=\"flex\" mb={5}>\n        <Figure>\n          <Image\n            s\n            src={poster ? `https://image.tmdb.org/t/p/w300${poster}` : noPoster}\n            alt={title || name}\n          />\n        </Figure>\n        <Description>\n          <h2>\n            {title || name} ({date.slice(0, 4)})\n          </h2>\n          {rate > 0 && <StarRating rate={rate} />}\n          {rate > 0 && <p>User score: {Math.round(rate * 10)}%</p>}\n          {overview && (\n            <div>\n              <h3>Overview:</h3>\n              <p>{overview}</p>\n            </div>\n          )}\n          {genres?.length > 0 && (\n            <div>\n              <h3>Genres:</h3>\n              <p>{genres.map(item => item.name).join(' / ')}</p>\n            </div>\n          )}\n          <ExtraInfo>\n            <NavLink\n              ref={scrollRef}\n              onClick={handleClickToScroll}\n              to=\"cast\"\n              state={{ from: location.state?.from ?? '/movies' }}\n            >\n              <Button>Cast</Button>\n            </NavLink>\n            <NavLink\n              ref={scrollRef}\n              onClick={handleClickToScroll}\n              to=\"reviews\"\n              state={{ from: location.state?.from ?? '/movies' }}\n            >\n              <Button>Reviews</Button>\n            </NavLink>\n          </ExtraInfo>\n        </Description>\n      </Box>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import PropTypes from 'prop-types';\nimport { Box } from 'Box';\nimport { FaStar, FaRegStar } from 'react-icons/fa';\n\n// Generates movie rating in a form of stars according to the\nconst StarRating = ({ rate }) => {\n  const generateStars = rate => {\n    return Array(Math.floor(rate)).fill('*');\n  };\n\n  const generateBlankStars = rate => {\n    return Array(Math.ceil(10 - rate)).fill('-');\n  };\n\n  return (\n    <Box as=\"div\" display=\"flex\">\n      <Box as=\"ul\" display=\"flex\">\n        {generateStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <Box as=\"ul\" display=\"flex\" mr={3}>\n        {generateBlankStars(rate).map((_, i) => (\n          <li key={i}>\n            <FaRegStar\n              style={{\n                fill: 'darkgoldenrod',\n                fontSize: '14px',\n              }}\n            />\n          </li>\n        ))}\n      </Box>\n      <p>({rate.toFixed(1)}/10)</p>\n    </Box>\n  );\n};\nexport default StarRating;\n\nStarRating.propTypes = {\n  rate: PropTypes.number.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Btn = styled.button`\n  display: inline-flex;\n  align-items: flex-end;\n  gap: 5px;\n  color: ${p => p.theme.colors.text};\n  background-color: ${p => p.theme.colors.white};\n  border-radius: ${p => p.theme.radii.normal};\n  border: 1px solid grey;\n  cursor: pointer;\n  transition: all 0.4s;\n  padding: 10px 15px;\n\n  &.active,\n  &:hover {\n    color: ${p => p.theme.colors.accent};\n    border-color: ${p => p.theme.colors.accent};\n  }\n`;\n","import { Btn } from './Button.styled';\n\nconst Button = ({ children }) => {\n  return <Btn>{children}</Btn>;\n};\nexport default Button;\n","import axios from 'axios';\n\nexport const movieService = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'bb66d39a29feb698f032f2613a49cacc',\n  },\n});\n\nexport const fetchTrending = async () => {\n  const { data } = await movieService.get('/trending/all/day');\n  return data;\n};\n\nexport const fetchMovieById = async movieId => {\n  const { data } = await movieService.get(`/movie/${movieId}`);\n  return data;\n};\n\nexport const fetchMovieCredits = async movieId => {\n  const { data } = await movieService.get(`/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const { data } = await movieService.get(`/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await movieService.get(`/search/movie?query=${query}`);\n  return await data;\n};\n"],"names":["Box","styled","color","space","layout","flexbox","grid","background","border","position","Figure","Image","p","theme","radii","normal","Description","ExtraInfo","colors","text","accent","BackLink","Link","movieId","useParams","useState","movie","setMovie","location","useLocation","backLinkHref","state","from","scrollRef","useRef","useEffect","getMovieById","fetchMovieById","data","Error","message","handleClickToScroll","current","scrollIntoView","behavior","poster","poster_path","title","name","overview","genres","rate","vote_average","date","release_date","to","Button","as","display","mb","s","src","noPoster","alt","slice","StarRating","Math","round","length","map","item","join","ref","onClick","Suspense","fallback","Loader","Array","floor","fill","generateStars","_","i","style","fontSize","mr","ceil","generateBlankStars","toFixed","Btn","white","children","movieService","axios","baseURL","params","api_key","fetchTrending","get","fetchMovieCredits","fetchMovieReviews","fetchMovieByName","query"],"sourceRoot":""}